



<div class="container mt-5">
  <h2 class="text-center">Orders</h2>

  <!-- مؤقت تحميل -->
  @if (loading) {
    <div class="text-center my-5">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  }

  <!-- عرض الطلبات -->
  @if (!loading && orders.length > 0) {
    <div class="row g-4">
      @for (order of orders; track $index) {
        <div class="col-12">
          <div class="card mb-3 shadow">
            <div class="card-body">
              <h5 class="card-title">Order ID: {{ order.id }}</h5>
              <p class="card-text">Total Products: {{ order.totalProducts }}</p>
              <p class="card-text">Total Price: ${{ order.total }}</p>

              <!-- جدول عرض المنتجات في الطلب -->
              @if (order.products.length > 0) {
                <div class="mt-3">
                  <h6>Products:</h6>
                  <div class="table-responsive">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th>Product</th>
                          <th>Quantity</th>
                          <th>Price</th>
                        </tr>
                      </thead>
                      <tbody>
                        @for (product of order.products; track $index) {
                          <tr>
                            <td>{{ product.title }}</td>
                            <td>{{ product.quantity }}</td>
                            <td>${{ product.price }}</td>
                          </tr>
                        }
                      </tbody>
                    </table>
                  </div>
                </div>
              }
            </div>
          </div>
        </div>
      }
    </div>
  }

  <!-- عرض رسالة في حالة عدم وجود طلبات -->
  @if (!loading && orders.length === 0) {
    <div class="text-center">
      <p>No orders available.</p>
    </div>
  }
</div>








